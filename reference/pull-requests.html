<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Helpers for GitHub pull requests — pull-requests • usethis</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Helpers for GitHub pull requests — pull-requests" />
<meta property="og:description" content="The pr_* family of functions is designed to make working with GitHub pull
requests (PRs) as painless as possible for both contributors and package
maintainers. They are designed to support the Git and GitHub best practices
described in Happy Git and GitHub for the useR.
To use the pr_* functions, your project must be a Git repo and have one of
these GitHub remote configurations:
&quot;ours&quot;: You can push to the GitHub remote configured as origin and it's
not a fork.
&quot;fork&quot;: You can push to the GitHub remote configured as origin, it's a
fork, and its parent is configured as upstream. origin points to your
personal copy and upstream points to the source repo.


&quot;Ours&quot; and &quot;fork&quot; are two of several GitHub remote configurations examined in
Common remote setups
in Happy Git.
The pr_* functions also use your Git/GitHub credentials to carry out
various remote operations. See below for more." />
<meta property="og:image" content="https://usethis.r-lib.org/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">usethis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.9.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/articles/usethis-setup.html">Setup</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/pr-functions.html">Pull request helpers</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Blog posts</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2020/04/usethis-1-6-0/">usethis 1.6.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/blog/2019/04/usethis-1.5.0/">usethis 1.5.0 (and 1.4.0)</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/blog/2018/02/usethis-1-3-0/">usethis 1.3.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/blog/2017/11/usethis-1.0.0/">usethis 1.0.0 (and 1.1.0)</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/usethis/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Helpers for GitHub pull requests</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/usethis/blob/master/R/pr.R'><code>R/pr.R</code></a></small>
    <div class="hidden name"><code>pull-requests.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>pr_*</code> family of functions is designed to make working with GitHub pull
requests (PRs) as painless as possible for both contributors and package
maintainers. They are designed to support the Git and GitHub best practices
described in <a href='https://happygitwithr.com'>Happy Git and GitHub for the useR</a>.</p>
<p>To use the <code>pr_*</code> functions, your project must be a Git repo and have one of
these GitHub remote configurations:</p><ul>
<li><p>"ours": You can push to the GitHub remote configured as <code>origin</code> and it's
not a fork.</p></li>
<li><p>"fork": You can push to the GitHub remote configured as <code>origin</code>, it's a
fork, and its parent is configured as <code>upstream</code>. <code>origin</code> points to your
<strong>personal</strong> copy and <code>upstream</code> points to the <strong>source repo</strong>.</p></li>
</ul>

<p>"Ours" and "fork" are two of several GitHub remote configurations examined in
<a href='https://happygitwithr.com/common-remote-setups.html'>Common remote setups</a>
in Happy Git.</p>
<p>The <code>pr_*</code> functions also use your Git/GitHub credentials to carry out
various remote operations. See below for more.</p>
    </div>

    <pre class="usage"><span class='fu'>pr_init</span><span class='op'>(</span><span class='va'>branch</span><span class='op'>)</span>

<span class='fu'>pr_resume</span><span class='op'>(</span>branch <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>pr_fetch</span><span class='op'>(</span>number <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>pr_push</span><span class='op'>(</span><span class='op'>)</span>

<span class='fu'>pr_pull</span><span class='op'>(</span><span class='op'>)</span>

<span class='fu'>pr_merge_main</span><span class='op'>(</span><span class='op'>)</span>

<span class='fu'>pr_view</span><span class='op'>(</span>number <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>pr_pause</span><span class='op'>(</span><span class='op'>)</span>

<span class='fu'>pr_finish</span><span class='op'>(</span>number <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>branch</th>
      <td><p>Name of a new or existing local branch. If creating a new
branch, note this should usually consist of lower case letters, numbers,
and <code><a href='https://rdrr.io/r/base/Arithmetic.html'>-</a></code>.</p></td>
    </tr>
    <tr>
      <th>number</th>
      <td><p>Number of PR to fetch.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="git-github-credentials"><a class="anchor" href="#git-github-credentials"></a>Git/GitHub credentials</h2>

    

<p>The <code>pr_*</code> functions interact with GitHub both as a conventional Git remote
and via the REST API. Therefore, your credentials must be discoverable. Which
credentials do we mean?</p><ul>
<li><p>A GitHub personal access token (PAT) must be discoverable by the gh
package, which is used for GitHub operations via the REST API. See
<code><a href='github-token.html'>gh_token_help()</a></code> for more about getting and configuring a PAT.</p></li>
<li><p>If you use the HTTPS protocol for Git remotes, your PAT is also used for
Git operations, such as <code>git push</code>. Usethis uses the gert package for this,
so the PAT must be discoverable by gert. Generally gert and gh will
discover and use the same PAT. This ability to "kill two birds with one
stone" is why HTTPS + PAT is our recommended auth strategy for those new
to Git and GitHub and PRs.</p></li>
<li><p>If you use SSH remotes, your SSH keys must also be discoverable, in
addition to your PAT. The public key must be added to your GitHub account.</p></li>
</ul>

<p>If the <code>pr_*</code> functions need to configure a new remote, its transport
protocol (HTTPS vs SSH) is determined by the protocol used for the
source repo (<code>upstream</code>, when working in a fork, and <code>origin</code> otherwise).</p>
    <h2 class="hasAnchor" id="for-contributors"><a class="anchor" href="#for-contributors"></a>For contributors</h2>

    

<p>To contribute to a package, first use <code><a href='create_from_github.html'>create_from_github("OWNER/REPO")</a></code> to
fork the source repository, and then check out a local copy.</p>
<p>Next use <code>pr_init()</code> to create a branch for your PR. It is best practice to
never make commits to the default branch branch of a fork (usually named
<code>main</code> or <code>master</code>), because you do not own it. A pull request should always
come from a feature branch. It will be much easier to pull upstream changes
from the fork parent if you only allow yourself to work in feature branches.
It is also much easier for a maintainer to explore and extend your PR if you
create a feature branch.</p>
<p>Work locally, in your branch, making changes to files, and committing your
work. Once you're ready to create the PR, run <code>pr_push()</code> to push your local
branch to GitHub, and open a webpage that lets you initiate the PR (or draft
PR).</p>
<p>To learn more about the process of making a pull request, read the <a href='https://usethis.r-lib.org/articles/articles/pr-functions.html'>Pull Request Helpers</a>
vignette.</p>
<p>If you are lucky, your PR will be perfect, and the maintainer will accept it.
You can then run <code>pr_finish()</code> to delete your PR branch. In most cases,
however, the maintainer will ask you to make some changes. Make the changes,
then run <code>pr_push()</code> to update your PR.</p>
<p>It's also possible that the maintainer will contribute some code to your PR:
to get those changes back onto your computer, run <code>pr_pull()</code>. It can also
happen that other changes have occurred in the package since you first
created your PR. You might need to merge the default branch (usually named
<code>main</code> or <code>master</code>) into your PR branch. Do that by running
<code>pr_merge_main()</code>: this makes sure that your PR is compatible with the
primary repo's main line of development. Both <code>pr_pull()</code> and
<code>pr_merge_main()</code> can result in merge conflicts, so be prepared to resolve
before continuing.</p>
    <h2 class="hasAnchor" id="for-maintainers"><a class="anchor" href="#for-maintainers"></a>For maintainers</h2>

    

<p>To download a PR locally so that you can experiment with it, run
<code>pr_fetch(&lt;pr_number&gt;)</code>. If you make changes, run <code>pr_push()</code> to push them
back to GitHub. After you have merged the PR, run <code>pr_finish()</code> to delete the
local branch and remove the remote associated with the contributor's fork.</p>
    <h2 class="hasAnchor" id="overview-of-all-the-functions"><a class="anchor" href="#overview-of-all-the-functions"></a>Overview of all the functions</h2>

    

<ul>
<li><p><code>pr_init()</code>: Does a preparatory pull of the default branch from the source
repo, to get a good start point. Creates and checks out a new branch. Nothing
is pushed to or created on GitHub (that does not happen until the first time
you call <code>pr_push()</code>).</p></li>
<li><p><code>pr_resume()</code>: Resume work on a PR by switching to an existing local branch
and pulling any changes from its upstream tracking branch, if it has one. If
called with no arguments, up to 9 local branches are offered for interactive
selection, with a preference for branches connected to PRs and for branches
with recent activity.</p></li>
<li><p><code>pr_fetch()</code>: Checks out a PR on the source repo for local exploration. If
called with no arguments, up to 9 open PRs are offered for interactive
selection. This can cause a new remote to be configured and a new local
branch to be created. The local branch is configured to track its remote
counterpart. <code>pr_fetch()</code> puts a maintainer in a position where they can push
changes into an external PR via <code>pr_push()</code>.</p></li>
<li><p><code>pr_push()</code>: The first time it's called, a PR branch is pushed to <code>origin</code>
and you're taken to a webpage where a new PR (or draft PR) can be created.
This also sets up the local branch to track its remote counterpart.
Subsequent calls to <code>pr_push()</code> make sure the local branch has all the remote
changes and, if so, pushes local changes, thereby updating the PR.</p></li>
<li><p><code>pr_pull()</code>: Pulls changes from the local branch's remote tracking branch.
If a maintainer has extended your PR, this is how you bring those changes
back into your local work.</p></li>
<li><p><code>pr_merge_main()</code>: Pulls changes from the default branch of the source repo
into the current local branch. This can be used when the local branch is the
default branch or when it's a PR branch.</p></li>
<li><p><code>pr_pause()</code>: Makes sure you're up-to-date with any remote changes in the
PR. Then switches back to the default branch (usually named <code>main</code> or
<code>master</code>) and pulls from the source repo.</p></li>
<li><p><code>pr_view()</code>: Visits the PR associated with the current branch in the
browser (default) or the specific PR identified by <code>number</code>.
(FYI <code><a href='browse-this.html'>browse_github_pulls()</a></code> is a handy way to visit the list of all PRs for
the current project.)</p></li>
<li><p><code>pr_finish()</code>: If <code>number</code> is given, first does <code>pr_fetch(number)</code>. It's
assumed the current branch is the PR branch of interest. First, makes sure
there are no unpushed local changes. Switches back to the default branch and
pulls changes from the source repo. If the PR has been merged and user has
permission, deletes the remote branch. Deletes the PR branch. If the PR came
from an external fork, the corresponding remote is deleted, provided it's not
in use by any other local branches.</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'>pr_fetch</span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, <a href='https://jennybryan.org'>Jennifer Bryan</a>, <a href='https://www.rstudio.com'><img src='https://www.tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'f67d4c46004acc8326e8d95f296a680e',
    indexName: 'usethis',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


